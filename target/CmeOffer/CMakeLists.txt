cmake_minimum_required(VERSION 2.8)
include(../../Common.cmake)
SET(PROJECT_NAME "CmeOffer")
project(${PROJECT_NAME})


add_package(src ./src)
add_package(DataType ../../source/DataType)
add_package(Utility ../../source/Utility)
add_package(MemCache ../../source/MemCache)
add_package(MyEvent ../../source/MyEvent)
add_package(ThreadBase ../../source/ThreadBase)
add_package(Logger ../../source/Logger)
add_package(jsoncpp ../../source/jsoncpp)
add_package(SocketInit ../../source/SocketInit)
add_package(CacheList ../../source/CacheList)
add_package(Mdb ../../source/Mdb)
add_package(Udp ../../source/Udp)
add_package(TcpBase ../../source/Tcp/TcpBase)
add_package(TcpSelect ../../source/Tcp/TcpSelect)
add_package(FixProtocol ../../source/FixProtocol)
add_package(ItsProtocol ../../source/ItsProtocol)

add_package(cryptopp ../../libs/cryptopp/8.5.0/include)
add_package(SQLite ../../libs/SQLite/3.36.0/include)
add_package(Zlib ../../libs/Zlib)

add_definitions("-D_CRT_SECURE_NO_WARNINGS")

message(STATUS "CMAKE_CL_64: " ${CMAKE_CL_64})
if(CMAKE_CL_64)
	link_directories(${PROJECT_SOURCE_DIR}/../../libs/cryptopp/8.5.0/win64)
	link_directories(${PROJECT_SOURCE_DIR}/../../libs/SQLite/3.36.0/win64)
ELSE(CMAKE_CL_64)
	link_directories(${PROJECT_SOURCE_DIR}/../../libs/cryptopp/8.5.0/win32)
	link_directories(${PROJECT_SOURCE_DIR}/../../libs/SQLite/3.36.0/win32)
endif(CMAKE_CL_64)

add_executable(${PROJECT_NAME} ${all_file})

target_link_libraries(${PROJECT_NAME} cryptlib.lib sqlite3.lib)